/* ==UserStyle==
@name         StretchGemini: Resizable width for the Gemini chat UI
@author       m1kethai
@description  Maximize the usable screen real estate by expanding Gemini's main chat view (or removing all width restrictions completely) - plus some extra toggles to hide certain UI elements and apply other various UI enhancements.
@version      1.1
@namespace    https://github.com/m1kethai/userstyles
@preprocessor less
@var select   stretchFactor "Stretch factor 🧘" {
    "⛔ None":         "0",
    "🤏 Just a bit":   "1",
    "✨ Pretty roomy": "2",
    "👹 Spacious*":    "3",
    "🫨 Unbounded":    "4"
}
@var checkbox hideDisclaimer "Hide bottom disclaimer ⚠️"  0
@var checkbox hideAvatar     "Hide Gemini chat avatar 🙈" 0
==/UserStyle== */

@-moz-document domain("gemini.google.com") {
    html {
        /* ===== EXPAND CHAT UI ===== */
        .expandChatUI() when (@stretchFactor >=1) {
            /* --bard-sidenav-open-width: 320px; */
            /* --bard-sidenav-closed-width: 72px; */
            /* --bard-sidenav-open-closed-width-diff: 248px; */
            @defaultMw: 760px;
            @widthMultiplier:
                if((@stretchFactor =1), 1.33,
                if((@stretchFactor =2), 1.66,
                if((@stretchFactor =3), 2.0, null
            )));
            @adjustedMw: if(
                (isnumber(@widthMultiplier)), (@defaultMw*@widthMultiplier), none
            );
            max-width: @adjustedMw;
        }
        div.conversation-container {
            .expandChatUI() !important;
        }

        /* ===== HIDE DISCLAIMER ===== */
        div.input-area-container when(@hideDisclaimer =1) {
            ~ hallucination-disclaimer {
                display: none !important;
            }
            padding-bottom: 0.5rem;
        }

        /* ===== HIDE GEMINI AVATARS ===== */
        div.avatar-gutter when(@hideAvatar =1) {
            display: none !important;
        }
    }
}